---
import Layout from '../../layouts/Layout.astro';
import ParallaxImage from '../../components/ui/ParallaxImage.astro';
import ScrollReveal from '../../components/ui/ScrollReveal.astro';

export function getStaticPaths() {
  return [
    { params: { lang: 'nl' } },
    { params: { lang: 'en' } },
    { params: { lang: 'de' } },
  ];
}

const { lang } = Astro.params;

const content = {
  nl: {
    title: "Omgeving",
    headline: "Ontdek Otterlo & De Veluwe",
    description: "Otterlo is de parel van de Veluwe. Boerderij Voorste Eng vormt de ideale uitvalsbasis om de prachtige natuur, cultuur en historie van Gelderland te verkennen.",
    labels: {
      natuur: "Natuur",
      cultuur: "Cultuur",
      dining: "Eten & Drinken",
      highlights: "Highlights"
    },
    spotsTitle: "Hotspots",
    spots: [
      { 
        title: "Nationaal Park De Hoge Veluwe", 
        desc: "5.400 hectare natuurpark met bossen, heide en zandverstuivingen, direct om de hoek.", 
        img: "/images/hoge_veluwe_park.png" 
      },
      { 
        title: "Kröller-Müller Museum", 
        desc: "Wereldberoemd museum met de op één na grootste Van Gogh-verzameling ter wereld.", 
        img: "/images/kroller_muller.png" 
      },
      { 
        title: "Jachthuis Sint Hubertus", 
        desc: "Het iconische buitenverblijf van de familie Kröller-Müller, ontworpen door Berlage.", 
        img: "/images/jachthuis_hubertus.png" 
      },
      { 
        title: "Museonder", 
        desc: "Het eerste ondergrondse museum ter wereld, geeft een uniek kijkje in de bodem.", 
        img: "/images/museonder.png" 
      }
    ],
    dining: [
      { name: "Restaurant De Waldhoorn", desc: "Gezellig eten in een klassieke boerderijsfeer.", img: "/images/restaurant_farmhouse.png" },
      { name: "Cèpes", desc: "Culinair genieten met lokale producten in Hotel de Sterrenberg.", img: "/images/restaurant_fine.png" },
      { name: "Grand Café Kröller", desc: "Heerlijke lunch of diner in hartje Otterlo.", img: "/images/restaurant_farmhouse.png" },
      { name: "Carnegie Cottage", desc: "Sfeervol restaurant met terras en authentieke uitstraling.", img: "/images/restaurant_fine.png" }
    ],
    sights: [
      { name: "Nederlands Tegelmuseum", desc: "Unieke collectie historische Nederlandse wandtegels.", img: "/images/tile_museum.png" },
      { name: "Radio Kootwijk", desc: "Imposant zendstation in art-deco stijl midden op de heide.", img: "/images/radio_kootwijk.png" },
      { name: "Uitkijktoren De Valouwe", desc: "Spectaculair uitzicht over de boomtoppen van de Veluwe.", img: "/images/observation_tower.png" },
      { name: "Planken Wambuis", desc: "Uitgestrekt natuurgebied met wilde paarden en runderen.", img: "/images/wildlife_cows.png" }
    ],
    activities: [
      { name: "Het Mosselsche Zand", desc: "Prachtige zandverstuiving om eindeloos te wandelen.", img: "/images/sand_drift.png" },
      { name: "Zandverstuiving De Zanding", desc: "Natuurgebied direct aan de rand van Otterlo.", img: "/images/sand_drift.png" },
      { name: "Belevenispad 't Eekhoorntje", desc: "Leuke wandelroute voor kinderen door het bos.", img: "/images/adventure_path.png" }
    ]
  },
  en: {
    title: "Surroundings",
    headline: "Discover Otterlo & The Veluwe",
    description: "Otterlo is the pearl of the Veluwe. Boerderij Voorste Eng is the ideal base for exploring the beautiful nature, culture, and history of Gelderland.",
    labels: {
      natuur: "Nature",
      cultuur: "Culture",
      dining: "Dining & Drinks",
      highlights: "Highlights"
    },
    sectionTitleDining: "Culinary Delights",
    sectionTitleSights: "Culture & Sightseeing",
    sectionTitleAction: "Active & Nature",
    spotsTitle: "Hotspots",
    spots: [
      { 
        title: "National Park De Hoge Veluwe", 
        desc: "5,400 hectares of nature park with forests, heathlands, and sand drifts, right around the corner.", 
        img: "/images/hoge_veluwe_park.png" 
      },
      { 
        title: "Kröller-Müller Museum", 
        desc: "World-famous museum with the second-largest Van Gogh collection in the world.", 
        img: "/images/kroller_muller.png" 
      },
      { 
        title: "Jachthuis Sint Hubertus", 
        desc: "The iconic country residence of the Kröller-Müller family, designed by Berlage.", 
        img: "/images/jachthuis_hubertus.png" 
      },
      { 
        title: "Museonder", 
        desc: "The first underground museum in the world, offering a unique look into the soil.", 
        img: "/images/museonder.png" 
      }
    ],
    dining: [
      { name: "Restaurant De Waldhoorn", desc: "Cozy dining in a classic farmhouse atmosphere.", img: "/images/restaurant_farmhouse.png" },
      { name: "Cèpes", desc: "Culinary enjoyment with local products in Hotel de Sterrenberg.", img: "/images/restaurant_fine.png" },
      { name: "Grand Café Kröller", desc: "Delicious lunch or dinner in the heart of Otterlo.", img: "/images/restaurant_farmhouse.png" },
      { name: "Carnegie Cottage", desc: "Atmospheric restaurant with terrace.", img: "/images/restaurant_fine.png" }
    ],
    sights: [
      { name: "Dutch Tile Museum", desc: "Unique collection of historical Dutch wall tiles.", img: "/images/tile_museum.png" },
      { name: "Radio Kootwijk", desc: "Impressive art-deco transmitter station in the middle of the heath.", img: "/images/radio_kootwijk.png" },
      { name: "Watchtower De Valouwe", desc: "Spectacular view over the treetops of the Veluwe.", img: "/images/observation_tower.png" },
      { name: "Planken Wambuis", desc: "Extensive nature reserve with wild horses and cattle.", img: "/images/wildlife_cows.png" }
    ],
    activities: [
      { name: "Het Mosselsche Zand", desc: "Beautiful sand drift for endless walking.", img: "/images/sand_drift.png" },
      { name: "De Zanding Sand Drift", desc: "Nature area right on the edge of Otterlo.", img: "/images/sand_drift.png" },
      { name: "Adventure Path 't Eekhoorntje", desc: "Fun walking route for children through the forest.", img: "/images/adventure_path.png" }
    ]
  },
  de: {
    title: "Umgebung",
    headline: "Entdecken Sie Otterlo & De Veluwe",
    description: "Otterlo ist die Perle der Veluwe. Boerderij Voorste Eng ist der ideale Ausgangspunkt, um die wunderschöne Natur, Kultur und Geschichte von Gelderland zu erkunden.",
    labels: {
      natuur: "Natur",
      cultuur: "Kultur",
      dining: "Essen & Trinken",
      highlights: "Highlights"
    },
    sectionTitleDining: "Kulinarische Genüsse",
    sectionTitleSights: "Kultur & Sehenswürdigkeiten",
    sectionTitleAction: "Aktiv & Natur",
    spotsTitle: "Hotspots",
    spots: [
      { 
        title: "Nationalpark De Hoge Veluwe", 
        desc: "5.400 Hektar Naturpark mit Wäldern, Heide und Sandverwehungen, gleich um die Ecke.", 
        img: "/images/hoge_veluwe_park.png" 
      },
      { 
        title: "Kröller-Müller Museum", 
        desc: "Weltberühmtes Museum mit der zweitgrößten Van-Gogh-Sammlung der Welt.", 
        img: "/images/kroller_muller.png" 
      },
      { 
        title: "Jachthuis Sint Hubertus", 
        desc: "Der ikonische Landsitz der Familie Kröller-Müller, entworfen von Berlage.", 
        img: "/images/jachthuis_hubertus.png" 
      },
      { 
        title: "Museonder", 
        desc: "Das erste unterirdische Museum der Welt bietet einen einzigartigen Einblick in den Boden.", 
        img: "/images/museonder.png" 
      }
    ],
    dining: [
      { name: "Restaurant De Waldhoorn", desc: "Gemütlich essen in klassischer Bauernhofatmosphäre.", img: "/images/restaurant_farmhouse.png" },
      { name: "Cèpes", desc: "Kulinarischer Genuss mit lokalen Produkten im Hotel de Sterrenberg.", img: "/images/restaurant_fine.png" },
      { name: "Grand Café Kröller", desc: "Leckeres Mittag- oder Abendessen im Herzen von Otterlo.", img: "/images/restaurant_farmhouse.png" },
      { name: "Carnegie Cottage", desc: "Stimmungsvolles Restaurant mit Terrasse.", img: "/images/restaurant_fine.png" }
    ],
    sights: [
      { name: "Niederländisches Fliesenmuseum", desc: "Einzigartige Sammlung historischer niederländischer Wandfliesen.", img: "/images/tile_museum.png" },
      { name: "Radio Kootwijk", desc: "Imposante Sendestation im Art-Deco-Stil mitten in der Heide.", img: "/images/radio_kootwijk.png" },
      { name: "Aussichtsturm De Valouwe", desc: "Spektakuläre Aussicht über die Baumwipfel der Veluwe.", img: "/images/observation_tower.png" },
      { name: "Planken Wambuis", desc: "Weitläufiges Naturschutzgebiet mit Wildpferden und Rindern.", img: "/images/wildlife_cows.png" }
    ],
    activities: [
      { name: "Het Mosselsche Zand", desc: "Wunderschöne Sandverwehung für endlose Spaziergänge.", img: "/images/sand_drift.png" },
      { name: "Sandverwehung De Zanding", desc: "Naturgebiet direkt am Rand von Otterlo.", img: "/images/sand_drift.png" },
      { name: "Erlebnispfad 't Eekhoorntje", desc: "Tolle Wanderroute für Kinder durch den Wald.", img: "/images/adventure_path.png" }
    ]
  }
};

const t = content[lang] || content.nl;

// Categorized items with standardized labels
const allItems = [
    ...t.spots.map(s => ({ ...s, category: t.labels.highlights })), 
    ...t.dining.map(s => ({ ...s, category: t.labels.dining })),
    ...t.sights.map(s => ({ ...s, category: t.labels.cultuur })),
    ...t.activities.map(s => ({ ...s, category: t.labels.natuur }))
];
---

<Layout title={`Boerderij Voorste Eng - ${t.title}`} lang={lang}>
  
  <div class="relative bg-stone-50 py-32 text-center text-slate-800">
      <ScrollReveal animation="fade-up">
         <h1 class="font-heading text-5xl md:text-7xl font-light mb-8 text-bordeaux tracking-tight">{t.headline}</h1>
         <p class="max-w-2xl mx-auto text-stone-600 text-xl font-light leading-relaxed">{t.description}</p>
         <div class="w-24 h-[1px] bg-bordeaux/30 mx-auto mt-12"></div>
      </ScrollReveal>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-32">
    
    {/* Masonry Columns Layout */}
    <div class="columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8">
      
      {allItems.map((item, index) => (
        <div class="break-inside-avoid relative group mb-8">
            <ScrollReveal animation="fade-up" delay={index % 3 * 0.1}>
                <a href="#" class="block bg-white rounded-sm shadow-sm hover:shadow-2xl transition-all duration-500 overflow-hidden transform group-hover:-translate-y-1">
                    
                    {/* Image handling - some could be taller */}
                    <div class={`relative overflow-hidden w-full ${index % 5 === 0 ? 'aspect-[3/4]' : 'aspect-[4/3]'}`}>
                        <ParallaxImage 
                            src={item.img || '/hero.png'} 
                            alt={item.name || item.title} 
                            class="w-full h-full object-cover"
                            height={index % 5 === 0 ? 'h-[120%]' : 'h-[120%]'}
                        />
                        
                        {/* Overlay Gradient */}
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>

                        {/* Top Category Tag */}
                        <div class="absolute top-4 left-4 z-10">
                            <span class="inline-block bg-white/90 backdrop-blur text-bordeaux text-xs font-bold uppercase tracking-widest px-3 py-1 shadow-sm border border-stone-100">
                                {item.type || item.category}
                            </span>
                        </div>
                    </div>

                    <div class="p-8">
                        <h3 class="font-heading text-2xl font-light text-slate-900 mb-3 group-hover:text-bordeaux transition-colors">
                            {item.name || item.title}
                        </h3>
                        <p class="text-stone-500 text-sm leading-relaxed mb-4">
                            {item.desc}
                        </p>
                        <div class="flex items-center text-xs font-bold uppercase tracking-widest text-bordeaux opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300">
                            {lang === 'nl' ? 'Ontdekken' : 'Discover'}
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2 h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                            </svg>
                        </div>
                    </div>
                </a>
            </ScrollReveal>
        </div>
      ))}

    </div>
  </div>
</Layout>
